import{S as a,i as s,s as e,v as t,b as n,d as r,e as o,t as i,M as l,j as c,h as f,m as d,f as h,g as m,k as u,o as p,I as v,p as w,r as g,q as $,B as E,y as q,D as y,u as P,z as N,E as S,N as T,O as b,X as j,Z as V,C as x,w as A,J as I,R,G as k,H as D,a as H,x as B}from"./client.0f0e9ea5.js";import{N as G}from"./NavBar.504604fd.js";import{F as O}from"./Footer.a900e9c6.js";import{L as z}from"./Loading.f68b7627.js";import{l as F,A as L}from"./settings.bc92b9ed.js";import{q as M}from"./api-client.40028785.js";import{e as X}from"./constants.b14b1131.js";import{V as _}from"./index.es.9a18cd9e.js";import"./moment.7288240e.js";const{setTimeout:C}=V;function J(a,s,e){const t=a.slice();return t[16]=s[e],t}function Y(a){let s,e,t,r,l,d,v,g=a[5],E=[];for(let s=0;s<g.length;s+=1)E[s]=Q(J(a,g,s));let N=a[1]&&U();return{c(){s=o("div"),e=o("p"),t=i("Reputation"),r=n();for(let a=0;a<E.length;a+=1)E[a].c();l=n(),N&&N.c(),d=k(),this.h()},l(a){s=h(a,"DIV",{class:!0});var n=m(s);e=h(n,"P",{class:!0});var o=m(e);t=u(o,"Reputation"),o.forEach(c),n.forEach(c),r=f(a);for(let s=0;s<E.length;s+=1)E[s].l(a);l=f(a),N&&N.l(a),d=k(),this.h()},h(){p(e,"class","svelte-1iowqmi"),p(s,"class","reputation-title svelte-1iowqmi")},m(a,n){w(a,s,n),$(s,e),$(e,t),w(a,r,n);for(let s=0;s<E.length;s+=1)E[s].m(a,n);w(a,l,n),N&&N.m(a,n),w(a,d,n),v=!0},p(a,s){if(32&s){let e;for(g=a[5],e=0;e<g.length;e+=1){const t=J(a,g,e);E[e]?E[e].p(t,s):(E[e]=Q(t),E[e].c(),E[e].m(l.parentNode,l))}for(;e<E.length;e+=1)E[e].d(1);E.length=g.length}a[1]?N?2&s&&P(N,1):(N=U(),N.c(),P(N,1),N.m(d.parentNode,d)):N&&(x(),q(N,1,1,(()=>{N=null})),y())},i(a){v||(P(N),v=!0)},o(a){q(N),v=!1},d(a){a&&c(s),a&&c(r),D(E,a),a&&c(l),N&&N.d(a),a&&c(d)}}}function Z(a){let s,e,n;return{c(){s=o("p"),e=i("No posts found"),this.h()},l(a){s=h(a,"P",{class:!0});var t=m(s);e=u(t,"No posts found"),t.forEach(c),this.h()},h(){p(s,"class","svelte-1iowqmi")},m(a,t){w(a,s,t),$(s,e)},p:H,i(a){n||t((()=>{n=A(s,B,{duration:150}),n.start()}))},o:H,d(a){a&&c(s)}}}function K(a){let s,e;return s=new z({}),{c(){r(s.$$.fragment)},l(a){d(s.$$.fragment,a)},m(a,t){g(s,a,t),e=!0},p:H,i(a){e||(P(s.$$.fragment,a),e=!0)},o(a){q(s.$$.fragment,a),e=!1},d(a){N(s,a)}}}function Q(a){let s,e,t,r,l,d,v,g,E,q,y,P,N,S,T,b,j,V,x,A,I,k,D,H,B,G,O,z,F=a[16].addr+"",L=a[16].balance+"",M=a[16].stake+"",X=a[16].reputation+"",_=a[16].reputation+"";return{c(){s=o("a"),e=o("div"),t=o("h1"),r=i(F),l=n(),d=o("div"),v=o("p"),g=o("span"),E=i("Balance"),q=i(L),y=o("span"),P=i("ar"),N=n(),S=o("p"),T=o("span"),b=i("Stake"),j=i(M),V=o("span"),x=i("VRT"),A=n(),I=o("p"),k=o("span"),D=i("Reputation"),H=i(X),B=n(),G=o("h1"),O=i(_),this.h()},l(a){s=h(a,"A",{class:!0,href:!0});var n=m(s);e=h(n,"DIV",{class:!0});var o=m(e);t=h(o,"H1",{class:!0});var i=m(t);r=u(i,F),i.forEach(c),l=f(o),d=h(o,"DIV",{class:!0});var p=m(d);v=h(p,"P",{class:!0});var w=m(v);g=h(w,"SPAN",{class:!0});var $=m(g);E=u($,"Balance"),$.forEach(c),q=u(w,L),y=h(w,"SPAN",{class:!0});var R=m(y);P=u(R,"ar"),R.forEach(c),w.forEach(c),N=f(p),S=h(p,"P",{class:!0});var z=m(S);T=h(z,"SPAN",{class:!0});var C=m(T);b=u(C,"Stake"),C.forEach(c),j=u(z,M),V=h(z,"SPAN",{class:!0});var J=m(V);x=u(J,"VRT"),J.forEach(c),z.forEach(c),A=f(p),I=h(p,"P",{class:!0});var Y=m(I);k=h(Y,"SPAN",{class:!0});var Z=m(k);D=u(Z,"Reputation"),Z.forEach(c),H=u(Y,X),Y.forEach(c),p.forEach(c),o.forEach(c),B=f(n),G=h(n,"H1",{class:!0});var K=m(G);O=u(K,_),K.forEach(c),n.forEach(c),this.h()},h(){p(t,"class","svelte-1iowqmi"),p(g,"class","svelte-1iowqmi"),p(y,"class","ar svelte-1iowqmi"),p(v,"class","svelte-1iowqmi"),p(T,"class","svelte-1iowqmi"),p(V,"class","ar svelte-1iowqmi"),p(S,"class","svelte-1iowqmi"),p(k,"class","svelte-1iowqmi"),p(I,"class","mobile-reputation svelte-1iowqmi"),p(d,"class","other-info svelte-1iowqmi"),p(e,"class","post-info"),p(G,"class","reputation svelte-1iowqmi"),p(s,"class","post svelte-1iowqmi"),p(s,"href",z="/post?addr="+a[16].addr)},m(a,n){w(a,s,n),$(s,e),$(e,t),$(t,r),$(e,l),$(e,d),$(d,v),$(v,g),$(g,E),$(v,q),$(v,y),$(y,P),$(d,N),$(d,S),$(S,T),$(T,b),$(S,j),$(S,V),$(V,x),$(d,A),$(d,I),$(I,k),$(k,D),$(I,H),$(s,B),$(s,G),$(G,O)},p(a,e){32&e&&F!==(F=a[16].addr+"")&&R(r,F),32&e&&L!==(L=a[16].balance+"")&&R(q,L),32&e&&M!==(M=a[16].stake+"")&&R(j,M),32&e&&X!==(X=a[16].reputation+"")&&R(H,X),32&e&&_!==(_=a[16].reputation+"")&&R(O,_),32&e&&z!==(z="/post?addr="+a[16].addr)&&p(s,"href",z)},d(a){a&&c(s)}}}function U(a){let s,e;return s=new z({}),{c(){r(s.$$.fragment)},l(a){d(s.$$.fragment,a)},m(a,t){g(s,a,t),e=!0},i(a){e||(P(s.$$.fragment,a),e=!0)},o(a){q(s.$$.fragment,a),e=!1},d(a){N(s,a)}}}function W(a){let s,e,T,b,j,V,I,R,k,D,H,z,F,L,M,X,_,J,Q,U,W=!1,aa=()=>{W=!1};t(a[7]),t(a[8]),T=new G({});const sa=[K,Z,Y],ea=[];function ta(a,s){return a[0]?0===a[5].length?1:2:0}return H=ta(a),z=ea[H]=sa[H](a),M=new O({}),{c(){e=n(),r(T.$$.fragment),b=n(),j=o("div"),V=o("div"),I=o("h1"),R=i("Trading Posts"),k=n(),D=o("div"),z.c(),L=n(),r(M.$$.fragment),X=n(),_=o("span"),this.h()},l(a){l('[data-svelte="svelte-1478cej"]',document.head).forEach(c),e=f(a),d(T.$$.fragment,a),b=f(a),j=h(a,"DIV",{class:!0});var s=m(j);V=h(s,"DIV",{class:!0});var t=m(V);I=h(t,"H1",{class:!0});var n=m(I);R=u(n,"Trading Posts"),n.forEach(c),t.forEach(c),k=f(s),D=h(s,"DIV",{class:!0});var r=m(D);z.l(r),r.forEach(c),s.forEach(c),L=f(a),d(M.$$.fragment,a),X=f(a),_=h(a,"SPAN",{style:!0}),m(_).forEach(c),this.h()},h(){document.title="Verto â€” Gallery",p(I,"class","title svelte-1iowqmi"),p(V,"class","gallery-head svelte-1iowqmi"),p(D,"class","gallery-content svelte-1iowqmi"),p(j,"class","gallery svelte-1iowqmi"),v(_,"width","100%"),v(_,"height","1px")},m(t,n){w(t,e,n),g(T,t,n),w(t,b,n),w(t,j,n),$(j,V),$(V,I),$(I,R),$(j,k),$(j,D),ea[H].m(D,null),w(t,L,n),g(M,t,n),w(t,X,n),w(t,_,n),a[9](_),J=!0,Q||(U=[E(window,"scroll",(()=>{W=!0,clearTimeout(s),s=C(aa,100),a[7]()})),E(window,"resize",a[8])],Q=!0)},p(a,[e]){4&e&&!W&&(W=!0,clearTimeout(s),scrollTo(window.pageXOffset,a[2]),s=C(aa,100));let t=H;H=ta(a),H===t?ea[H].p(a,e):(x(),q(ea[t],1,1,(()=>{ea[t]=null})),y(),z=ea[H],z?z.p(a,e):(z=ea[H]=sa[H](a),z.c()),P(z,1),z.m(D,null))},i(a){J||(P(T.$$.fragment,a),P(z),F||t((()=>{F=A(j,B,{duration:300}),F.start()})),P(M.$$.fragment,a),J=!0)},o(a){q(T.$$.fragment,a),q(z),q(M.$$.fragment,a),J=!1},d(s){s&&c(e),N(T,s),s&&c(b),s&&c(j),ea[H].d(),s&&c(L),N(M,s),s&&c(X),s&&c(_),a[9](null),Q=!1,S(U)}}}function aa(a,s,e){let t;T(a,F,(a=>e(11,t=a)));var n=this&&this.__awaiter||function(a,s,e,t){return new(e||(e=Promise))((function(n,r){function o(a){try{l(t.next(a))}catch(a){r(a)}}function i(a){try{l(t.throw(a))}catch(a){r(a)}}function l(a){var s;a.done?n(a.value):(s=a.value,s instanceof e?s:new e((function(a){a(s)}))).then(o,i)}l((t=t.apply(a,s||[])).next())}))};const r=new _;t||b("/");let o,i,l,c=[],f=!0,d=!1,h=!1;function m(){return n(this,void 0,void 0,(function*(){if(!f)return;e(1,h=!0);let a=[];const s=new L({host:"arweave.net",port:443,protocol:"https",timeout:2e4}),t=(yield M({query:'query($owners: [String!], $recipients: [String!]) {\n  transactions(\n    owners: $owners\n    recipients: $recipients\n    tags: [\n      { name: "Exchange", values: "Verto" }\n      { name: "Type", values: "Genesis" }\n    ]\n  ) {\n    pageInfo {\n      hasNextPage\n    }\n    edges {\n      cursor\n      node {\n        id\n        owner {\n          address\n        }\n      }\n    }\n  }\n}\n',variables:{recipients:[X]}})).data.transactions;e(6,f=t.pageInfo.hasNextPage);for(const e of t.edges){let t=e.node;e.cursor;const n=yield r.getPostStake(t.owner.address);n>0&&a.push({addr:t.owner.address,reputation:yield r.getReputation(t.owner.address),balance:s.ar.winstonToAr(yield s.wallets.getBalance(t.owner.address)),stake:n})}e(5,c=c.concat(a)),e(5,c=[...new Map(c.map((a=>[a.addr,a]))).values()]),e(0,d=!0),setTimeout((()=>e(1,h=!1)),400)}))}return j((()=>m())),a.$$.update=()=>{if(95&a.$$.dirty&&void 0!==l){l.offsetTop+l.offsetHeight<=o+i+120&&d&&!h&&f&&m()}},[d,h,o,i,l,c,f,function(){e(2,o=window.pageYOffset)},function(){e(3,i=window.innerHeight)},function(a){I[a?"unshift":"push"]((()=>{l=a,e(4,l)}))}]}export default class extends a{constructor(a){super(),s(this,a,aa,W,e,{})}}
