import{a0 as t,a1 as e,a2 as r,a3 as n}from"./client.0f0e9ea5.js";var a="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function i(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function o(t,e,r){return t(r={path:e,exports:{},require:function(t,e){return u(null==e&&r.path)}},r.exports),r.exports}function s(t){if(t.__esModule)return t;var e=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(t).forEach((function(r){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})})),e}function u(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var c=o((function(t){!function(e){var r,n=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,a=Math.ceil,i=Math.floor,o="[BigNumber Error] ",s=o+"Number primitive has more than 15 significant digits: ",u=1e14,c=14,f=9007199254740991,l=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],h=1e7,d=1e9;function p(t){var e=0|t;return t>0||t===e?e:e-1}function g(t){for(var e,r,n=1,a=t.length,i=t[0]+"";n<a;){for(e=t[n++]+"",r=c-e.length;r--;e="0"+e);i+=e}for(a=i.length;48===i.charCodeAt(--a););return i.slice(0,a+1||1)}function y(t,e){var r,n,a=t.c,i=e.c,o=t.s,s=e.s,u=t.e,c=e.e;if(!o||!s)return null;if(r=a&&!a[0],n=i&&!i[0],r||n)return r?n?0:-s:o;if(o!=s)return o;if(r=o<0,n=u==c,!a||!i)return n?0:!a^r?1:-1;if(!n)return u>c^r?1:-1;for(s=(u=a.length)<(c=i.length)?u:c,o=0;o<s;o++)if(a[o]!=i[o])return a[o]>i[o]^r?1:-1;return u==c?0:u>c^r?1:-1}function w(t,e,r,n){if(t<e||t>r||t!==i(t))throw Error(o+(n||"Argument")+("number"==typeof t?t<e||t>r?" out of range: ":" not an integer: ":" not a primitive number: ")+String(t))}function m(t){var e=t.c.length-1;return p(t.e/c)==e&&t.c[e]%2!=0}function b(t,e){return(t.length>1?t.charAt(0)+"."+t.slice(1):t)+(e<0?"e":"e+")+e}function v(t,e,r){var n,a;if(e<0){for(a=r+".";++e;a+=r);t=a+t}else if(++e>(n=t.length)){for(a=r,e-=n;--e;a+=r);t+=a}else e<n&&(t=t.slice(0,e)+"."+t.slice(e));return t}(r=function t(e){var r,S,E,T,A,_,O,x,B,N,U=H.prototype={constructor:H,toString:null,valueOf:null},R=new H(1),C=20,k=4,j=-7,P=21,I=-1e7,D=1e7,L=!1,M=1,q=0,$={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"Â ",suffix:""},z="0123456789abcdefghijklmnopqrstuvwxyz";function H(t,e){var r,a,o,u,l,h,d,p,g=this;if(!(g instanceof H))return new H(t,e);if(null==e){if(t&&!0===t._isBigNumber)return g.s=t.s,void(!t.c||t.e>D?g.c=g.e=null:t.e<I?g.c=[g.e=0]:(g.e=t.e,g.c=t.c.slice()));if((h="number"==typeof t)&&0*t==0){if(g.s=1/t<0?(t=-t,-1):1,t===~~t){for(u=0,l=t;l>=10;l/=10,u++);return void(u>D?g.c=g.e=null:(g.e=u,g.c=[t]))}p=String(t)}else{if(!n.test(p=String(t)))return E(g,p,h);g.s=45==p.charCodeAt(0)?(p=p.slice(1),-1):1}(u=p.indexOf("."))>-1&&(p=p.replace(".","")),(l=p.search(/e/i))>0?(u<0&&(u=l),u+=+p.slice(l+1),p=p.substring(0,l)):u<0&&(u=p.length)}else{if(w(e,2,z.length,"Base"),10==e)return J(g=new H(t),C+g.e+1,k);if(p=String(t),h="number"==typeof t){if(0*t!=0)return E(g,p,h,e);if(g.s=1/t<0?(p=p.slice(1),-1):1,H.DEBUG&&p.replace(/^0\.0*|\./,"").length>15)throw Error(s+t)}else g.s=45===p.charCodeAt(0)?(p=p.slice(1),-1):1;for(r=z.slice(0,e),u=l=0,d=p.length;l<d;l++)if(r.indexOf(a=p.charAt(l))<0){if("."==a){if(l>u){u=d;continue}}else if(!o&&(p==p.toUpperCase()&&(p=p.toLowerCase())||p==p.toLowerCase()&&(p=p.toUpperCase()))){o=!0,l=-1,u=0;continue}return E(g,String(t),h,e)}h=!1,(u=(p=S(p,e,10,g.s)).indexOf("."))>-1?p=p.replace(".",""):u=p.length}for(l=0;48===p.charCodeAt(l);l++);for(d=p.length;48===p.charCodeAt(--d););if(p=p.slice(l,++d)){if(d-=l,h&&H.DEBUG&&d>15&&(t>f||t!==i(t)))throw Error(s+g.s*t);if((u=u-l-1)>D)g.c=g.e=null;else if(u<I)g.c=[g.e=0];else{if(g.e=u,g.c=[],l=(u+1)%c,u<0&&(l+=c),l<d){for(l&&g.c.push(+p.slice(0,l)),d-=c;l<d;)g.c.push(+p.slice(l,l+=c));l=c-(p=p.slice(l)).length}else l-=d;for(;l--;p+="0");g.c.push(+p)}}else g.c=[g.e=0]}function F(t,e,r,n){var a,i,o,s,u;if(null==r?r=k:w(r,0,8),!t.c)return t.toString();if(a=t.c[0],o=t.e,null==e)u=g(t.c),u=1==n||2==n&&(o<=j||o>=P)?b(u,o):v(u,o,"0");else if(i=(t=J(new H(t),e,r)).e,s=(u=g(t.c)).length,1==n||2==n&&(e<=i||i<=j)){for(;s<e;u+="0",s++);u=b(u,i)}else if(e-=o,u=v(u,i,"0"),i+1>s){if(--e>0)for(u+=".";e--;u+="0");}else if((e+=i-s)>0)for(i+1==s&&(u+=".");e--;u+="0");return t.s<0&&a?"-"+u:u}function K(t,e){for(var r,n=1,a=new H(t[0]);n<t.length;n++){if(!(r=new H(t[n])).s){a=r;break}e.call(a,r)&&(a=r)}return a}function G(t,e,r){for(var n=1,a=e.length;!e[--a];e.pop());for(a=e[0];a>=10;a/=10,n++);return(r=n+r*c-1)>D?t.c=t.e=null:r<I?t.c=[t.e=0]:(t.e=r,t.c=e),t}function J(t,e,r,n){var o,s,f,h,d,p,g,y=t.c,w=l;if(y){t:{for(o=1,h=y[0];h>=10;h/=10,o++);if((s=e-o)<0)s+=c,f=e,g=(d=y[p=0])/w[o-f-1]%10|0;else if((p=a((s+1)/c))>=y.length){if(!n)break t;for(;y.length<=p;y.push(0));d=g=0,o=1,f=(s%=c)-c+1}else{for(d=h=y[p],o=1;h>=10;h/=10,o++);g=(f=(s%=c)-c+o)<0?0:d/w[o-f-1]%10|0}if(n=n||e<0||null!=y[p+1]||(f<0?d:d%w[o-f-1]),n=r<4?(g||n)&&(0==r||r==(t.s<0?3:2)):g>5||5==g&&(4==r||n||6==r&&(s>0?f>0?d/w[o-f]:0:y[p-1])%10&1||r==(t.s<0?8:7)),e<1||!y[0])return y.length=0,n?(e-=t.e+1,y[0]=w[(c-e%c)%c],t.e=-e||0):y[0]=t.e=0,t;if(0==s?(y.length=p,h=1,p--):(y.length=p+1,h=w[c-s],y[p]=f>0?i(d/w[o-f]%w[f])*h:0),n)for(;;){if(0==p){for(s=1,f=y[0];f>=10;f/=10,s++);for(f=y[0]+=h,h=1;f>=10;f/=10,h++);s!=h&&(t.e++,y[0]==u&&(y[0]=1));break}if(y[p]+=h,y[p]!=u)break;y[p--]=0,h=1}for(s=y.length;0===y[--s];y.pop());}t.e>D?t.c=t.e=null:t.e<I&&(t.c=[t.e=0])}return t}function X(t){var e,r=t.e;return null===r?t.toString():(e=g(t.c),e=r<=j||r>=P?b(e,r):v(e,r,"0"),t.s<0?"-"+e:e)}return H.clone=t,H.ROUND_UP=0,H.ROUND_DOWN=1,H.ROUND_CEIL=2,H.ROUND_FLOOR=3,H.ROUND_HALF_UP=4,H.ROUND_HALF_DOWN=5,H.ROUND_HALF_EVEN=6,H.ROUND_HALF_CEIL=7,H.ROUND_HALF_FLOOR=8,H.EUCLID=9,H.config=H.set=function(t){var e,r;if(null!=t){if("object"!=typeof t)throw Error(o+"Object expected: "+t);if(t.hasOwnProperty(e="DECIMAL_PLACES")&&(w(r=t[e],0,d,e),C=r),t.hasOwnProperty(e="ROUNDING_MODE")&&(w(r=t[e],0,8,e),k=r),t.hasOwnProperty(e="EXPONENTIAL_AT")&&((r=t[e])&&r.pop?(w(r[0],-d,0,e),w(r[1],0,d,e),j=r[0],P=r[1]):(w(r,-d,d,e),j=-(P=r<0?-r:r))),t.hasOwnProperty(e="RANGE"))if((r=t[e])&&r.pop)w(r[0],-d,-1,e),w(r[1],1,d,e),I=r[0],D=r[1];else{if(w(r,-d,d,e),!r)throw Error(o+e+" cannot be zero: "+r);I=-(D=r<0?-r:r)}if(t.hasOwnProperty(e="CRYPTO")){if((r=t[e])!==!!r)throw Error(o+e+" not true or false: "+r);if(r){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw L=!r,Error(o+"crypto unavailable");L=r}else L=r}if(t.hasOwnProperty(e="MODULO_MODE")&&(w(r=t[e],0,9,e),M=r),t.hasOwnProperty(e="POW_PRECISION")&&(w(r=t[e],0,d,e),q=r),t.hasOwnProperty(e="FORMAT")){if("object"!=typeof(r=t[e]))throw Error(o+e+" not an object: "+r);$=r}if(t.hasOwnProperty(e="ALPHABET")){if("string"!=typeof(r=t[e])||/^.?$|[+\-.\s]|(.).*\1/.test(r))throw Error(o+e+" invalid: "+r);z=r}}return{DECIMAL_PLACES:C,ROUNDING_MODE:k,EXPONENTIAL_AT:[j,P],RANGE:[I,D],CRYPTO:L,MODULO_MODE:M,POW_PRECISION:q,FORMAT:$,ALPHABET:z}},H.isBigNumber=function(t){if(!t||!0!==t._isBigNumber)return!1;if(!H.DEBUG)return!0;var e,r,n=t.c,a=t.e,s=t.s;t:if("[object Array]"=={}.toString.call(n)){if((1===s||-1===s)&&a>=-d&&a<=d&&a===i(a)){if(0===n[0]){if(0===a&&1===n.length)return!0;break t}if((e=(a+1)%c)<1&&(e+=c),String(n[0]).length==e){for(e=0;e<n.length;e++)if((r=n[e])<0||r>=u||r!==i(r))break t;if(0!==r)return!0}}}else if(null===n&&null===a&&(null===s||1===s||-1===s))return!0;throw Error(o+"Invalid BigNumber: "+t)},H.maximum=H.max=function(){return K(arguments,U.lt)},H.minimum=H.min=function(){return K(arguments,U.gt)},H.random=(T=9007199254740992,A=Math.random()*T&2097151?function(){return i(Math.random()*T)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(t){var e,r,n,s,u,f=0,h=[],p=new H(R);if(null==t?t=C:w(t,0,d),s=a(t/c),L)if(crypto.getRandomValues){for(e=crypto.getRandomValues(new Uint32Array(s*=2));f<s;)(u=131072*e[f]+(e[f+1]>>>11))>=9e15?(r=crypto.getRandomValues(new Uint32Array(2)),e[f]=r[0],e[f+1]=r[1]):(h.push(u%1e14),f+=2);f=s/2}else{if(!crypto.randomBytes)throw L=!1,Error(o+"crypto unavailable");for(e=crypto.randomBytes(s*=7);f<s;)(u=281474976710656*(31&e[f])+1099511627776*e[f+1]+4294967296*e[f+2]+16777216*e[f+3]+(e[f+4]<<16)+(e[f+5]<<8)+e[f+6])>=9e15?crypto.randomBytes(7).copy(e,f):(h.push(u%1e14),f+=7);f=s/7}if(!L)for(;f<s;)(u=A())<9e15&&(h[f++]=u%1e14);for(s=h[--f],t%=c,s&&t&&(u=l[c-t],h[f]=i(s/u)*u);0===h[f];h.pop(),f--);if(f<0)h=[n=0];else{for(n=-1;0===h[0];h.splice(0,1),n-=c);for(f=1,u=h[0];u>=10;u/=10,f++);f<c&&(n-=c-f)}return p.e=n,p.c=h,p}),H.sum=function(){for(var t=1,e=arguments,r=new H(e[0]);t<e.length;)r=r.plus(e[t++]);return r},S=function(){var t="0123456789";function e(t,e,r,n){for(var a,i,o=[0],s=0,u=t.length;s<u;){for(i=o.length;i--;o[i]*=e);for(o[0]+=n.indexOf(t.charAt(s++)),a=0;a<o.length;a++)o[a]>r-1&&(null==o[a+1]&&(o[a+1]=0),o[a+1]+=o[a]/r|0,o[a]%=r)}return o.reverse()}return function(n,a,i,o,s){var u,c,f,l,h,d,p,y,w=n.indexOf("."),m=C,b=k;for(w>=0&&(l=q,q=0,n=n.replace(".",""),d=(y=new H(a)).pow(n.length-w),q=l,y.c=e(v(g(d.c),d.e,"0"),10,i,t),y.e=y.c.length),f=l=(p=e(n,a,i,s?(u=z,t):(u=t,z))).length;0==p[--l];p.pop());if(!p[0])return u.charAt(0);if(w<0?--f:(d.c=p,d.e=f,d.s=o,p=(d=r(d,y,m,b,i)).c,h=d.r,f=d.e),w=p[c=f+m+1],l=i/2,h=h||c<0||null!=p[c+1],h=b<4?(null!=w||h)&&(0==b||b==(d.s<0?3:2)):w>l||w==l&&(4==b||h||6==b&&1&p[c-1]||b==(d.s<0?8:7)),c<1||!p[0])n=h?v(u.charAt(1),-m,u.charAt(0)):u.charAt(0);else{if(p.length=c,h)for(--i;++p[--c]>i;)p[c]=0,c||(++f,p=[1].concat(p));for(l=p.length;!p[--l];);for(w=0,n="";w<=l;n+=u.charAt(p[w++]));n=v(n,f,u.charAt(0))}return n}}(),r=function(){function t(t,e,r){var n,a,i,o,s=0,u=t.length,c=e%h,f=e/h|0;for(t=t.slice();u--;)s=((a=c*(i=t[u]%h)+(n=f*i+(o=t[u]/h|0)*c)%h*h+s)/r|0)+(n/h|0)+f*o,t[u]=a%r;return s&&(t=[s].concat(t)),t}function e(t,e,r,n){var a,i;if(r!=n)i=r>n?1:-1;else for(a=i=0;a<r;a++)if(t[a]!=e[a]){i=t[a]>e[a]?1:-1;break}return i}function r(t,e,r,n){for(var a=0;r--;)t[r]-=a,a=t[r]<e[r]?1:0,t[r]=a*n+t[r]-e[r];for(;!t[0]&&t.length>1;t.splice(0,1));}return function(n,a,o,s,f){var l,h,d,g,y,w,m,b,v,S,E,T,A,_,O,x,B,N=n.s==a.s?1:-1,U=n.c,R=a.c;if(!(U&&U[0]&&R&&R[0]))return new H(n.s&&a.s&&(U?!R||U[0]!=R[0]:R)?U&&0==U[0]||!R?0*N:N/0:NaN);for(v=(b=new H(N)).c=[],N=o+(h=n.e-a.e)+1,f||(f=u,h=p(n.e/c)-p(a.e/c),N=N/c|0),d=0;R[d]==(U[d]||0);d++);if(R[d]>(U[d]||0)&&h--,N<0)v.push(1),g=!0;else{for(_=U.length,x=R.length,d=0,N+=2,(y=i(f/(R[0]+1)))>1&&(R=t(R,y,f),U=t(U,y,f),x=R.length,_=U.length),A=x,E=(S=U.slice(0,x)).length;E<x;S[E++]=0);B=R.slice(),B=[0].concat(B),O=R[0],R[1]>=f/2&&O++;do{if(y=0,(l=e(R,S,x,E))<0){if(T=S[0],x!=E&&(T=T*f+(S[1]||0)),(y=i(T/O))>1)for(y>=f&&(y=f-1),m=(w=t(R,y,f)).length,E=S.length;1==e(w,S,m,E);)y--,r(w,x<m?B:R,m,f),m=w.length,l=1;else 0==y&&(l=y=1),m=(w=R.slice()).length;if(m<E&&(w=[0].concat(w)),r(S,w,E,f),E=S.length,-1==l)for(;e(R,S,x,E)<1;)y++,r(S,x<E?B:R,E,f),E=S.length}else 0===l&&(y++,S=[0]);v[d++]=y,S[0]?S[E++]=U[A]||0:(S=[U[A]],E=1)}while((A++<_||null!=S[0])&&N--);g=null!=S[0],v[0]||v.splice(0,1)}if(f==u){for(d=1,N=v[0];N>=10;N/=10,d++);J(b,o+(b.e=d+h*c-1)+1,s,g)}else b.e=h,b.r=+g;return b}}(),_=/^(-?)0([xbo])(?=\w[\w.]*$)/i,O=/^([^.]+)\.$/,x=/^\.([^.]+)$/,B=/^-?(Infinity|NaN)$/,N=/^\s*\+(?=[\w.])|^\s+|\s+$/g,E=function(t,e,r,n){var a,i=r?e:e.replace(N,"");if(B.test(i))t.s=isNaN(i)?null:i<0?-1:1;else{if(!r&&(i=i.replace(_,(function(t,e,r){return a="x"==(r=r.toLowerCase())?16:"b"==r?2:8,n&&n!=a?t:e})),n&&(a=n,i=i.replace(O,"$1").replace(x,"0.$1")),e!=i))return new H(i,a);if(H.DEBUG)throw Error(o+"Not a"+(n?" base "+n:"")+" number: "+e);t.s=null}t.c=t.e=null},U.absoluteValue=U.abs=function(){var t=new H(this);return t.s<0&&(t.s=1),t},U.comparedTo=function(t,e){return y(this,new H(t,e))},U.decimalPlaces=U.dp=function(t,e){var r,n,a,i=this;if(null!=t)return w(t,0,d),null==e?e=k:w(e,0,8),J(new H(i),t+i.e+1,e);if(!(r=i.c))return null;if(n=((a=r.length-1)-p(this.e/c))*c,a=r[a])for(;a%10==0;a/=10,n--);return n<0&&(n=0),n},U.dividedBy=U.div=function(t,e){return r(this,new H(t,e),C,k)},U.dividedToIntegerBy=U.idiv=function(t,e){return r(this,new H(t,e),0,1)},U.exponentiatedBy=U.pow=function(t,e){var r,n,s,u,f,l,h,d,p=this;if((t=new H(t)).c&&!t.isInteger())throw Error(o+"Exponent not an integer: "+X(t));if(null!=e&&(e=new H(e)),f=t.e>14,!p.c||!p.c[0]||1==p.c[0]&&!p.e&&1==p.c.length||!t.c||!t.c[0])return d=new H(Math.pow(+X(p),f?2-m(t):+X(t))),e?d.mod(e):d;if(l=t.s<0,e){if(e.c?!e.c[0]:!e.s)return new H(NaN);(n=!l&&p.isInteger()&&e.isInteger())&&(p=p.mod(e))}else{if(t.e>9&&(p.e>0||p.e<-1||(0==p.e?p.c[0]>1||f&&p.c[1]>=24e7:p.c[0]<8e13||f&&p.c[0]<=9999975e7)))return u=p.s<0&&m(t)?-0:0,p.e>-1&&(u=1/u),new H(l?1/u:u);q&&(u=a(q/c+2))}for(f?(r=new H(.5),l&&(t.s=1),h=m(t)):h=(s=Math.abs(+X(t)))%2,d=new H(R);;){if(h){if(!(d=d.times(p)).c)break;u?d.c.length>u&&(d.c.length=u):n&&(d=d.mod(e))}if(s){if(0===(s=i(s/2)))break;h=s%2}else if(J(t=t.times(r),t.e+1,1),t.e>14)h=m(t);else{if(0===(s=+X(t)))break;h=s%2}p=p.times(p),u?p.c&&p.c.length>u&&(p.c.length=u):n&&(p=p.mod(e))}return n?d:(l&&(d=R.div(d)),e?d.mod(e):u?J(d,q,k,undefined):d)},U.integerValue=function(t){var e=new H(this);return null==t?t=k:w(t,0,8),J(e,e.e+1,t)},U.isEqualTo=U.eq=function(t,e){return 0===y(this,new H(t,e))},U.isFinite=function(){return!!this.c},U.isGreaterThan=U.gt=function(t,e){return y(this,new H(t,e))>0},U.isGreaterThanOrEqualTo=U.gte=function(t,e){return 1===(e=y(this,new H(t,e)))||0===e},U.isInteger=function(){return!!this.c&&p(this.e/c)>this.c.length-2},U.isLessThan=U.lt=function(t,e){return y(this,new H(t,e))<0},U.isLessThanOrEqualTo=U.lte=function(t,e){return-1===(e=y(this,new H(t,e)))||0===e},U.isNaN=function(){return!this.s},U.isNegative=function(){return this.s<0},U.isPositive=function(){return this.s>0},U.isZero=function(){return!!this.c&&0==this.c[0]},U.minus=function(t,e){var r,n,a,i,o=this,s=o.s;if(e=(t=new H(t,e)).s,!s||!e)return new H(NaN);if(s!=e)return t.s=-e,o.plus(t);var f=o.e/c,l=t.e/c,h=o.c,d=t.c;if(!f||!l){if(!h||!d)return h?(t.s=-e,t):new H(d?o:NaN);if(!h[0]||!d[0])return d[0]?(t.s=-e,t):new H(h[0]?o:3==k?-0:0)}if(f=p(f),l=p(l),h=h.slice(),s=f-l){for((i=s<0)?(s=-s,a=h):(l=f,a=d),a.reverse(),e=s;e--;a.push(0));a.reverse()}else for(n=(i=(s=h.length)<(e=d.length))?s:e,s=e=0;e<n;e++)if(h[e]!=d[e]){i=h[e]<d[e];break}if(i&&(a=h,h=d,d=a,t.s=-t.s),(e=(n=d.length)-(r=h.length))>0)for(;e--;h[r++]=0);for(e=u-1;n>s;){if(h[--n]<d[n]){for(r=n;r&&!h[--r];h[r]=e);--h[r],h[n]+=u}h[n]-=d[n]}for(;0==h[0];h.splice(0,1),--l);return h[0]?G(t,h,l):(t.s=3==k?-1:1,t.c=[t.e=0],t)},U.modulo=U.mod=function(t,e){var n,a,i=this;return t=new H(t,e),!i.c||!t.s||t.c&&!t.c[0]?new H(NaN):!t.c||i.c&&!i.c[0]?new H(i):(9==M?(a=t.s,t.s=1,n=r(i,t,0,3),t.s=a,n.s*=a):n=r(i,t,0,M),(t=i.minus(n.times(t))).c[0]||1!=M||(t.s=i.s),t)},U.multipliedBy=U.times=function(t,e){var r,n,a,i,o,s,f,l,d,g,y,w,m,b,v,S=this,E=S.c,T=(t=new H(t,e)).c;if(!(E&&T&&E[0]&&T[0]))return!S.s||!t.s||E&&!E[0]&&!T||T&&!T[0]&&!E?t.c=t.e=t.s=null:(t.s*=S.s,E&&T?(t.c=[0],t.e=0):t.c=t.e=null),t;for(n=p(S.e/c)+p(t.e/c),t.s*=S.s,(f=E.length)<(g=T.length)&&(m=E,E=T,T=m,a=f,f=g,g=a),a=f+g,m=[];a--;m.push(0));for(b=u,v=h,a=g;--a>=0;){for(r=0,y=T[a]%v,w=T[a]/v|0,i=a+(o=f);i>a;)r=((l=y*(l=E[--o]%v)+(s=w*l+(d=E[o]/v|0)*y)%v*v+m[i]+r)/b|0)+(s/v|0)+w*d,m[i--]=l%b;m[i]=r}return r?++n:m.splice(0,1),G(t,m,n)},U.negated=function(){var t=new H(this);return t.s=-t.s||null,t},U.plus=function(t,e){var r,n=this,a=n.s;if(e=(t=new H(t,e)).s,!a||!e)return new H(NaN);if(a!=e)return t.s=-e,n.minus(t);var i=n.e/c,o=t.e/c,s=n.c,f=t.c;if(!i||!o){if(!s||!f)return new H(a/0);if(!s[0]||!f[0])return f[0]?t:new H(s[0]?n:0*a)}if(i=p(i),o=p(o),s=s.slice(),a=i-o){for(a>0?(o=i,r=f):(a=-a,r=s),r.reverse();a--;r.push(0));r.reverse()}for((a=s.length)-(e=f.length)<0&&(r=f,f=s,s=r,e=a),a=0;e;)a=(s[--e]=s[e]+f[e]+a)/u|0,s[e]=u===s[e]?0:s[e]%u;return a&&(s=[a].concat(s),++o),G(t,s,o)},U.precision=U.sd=function(t,e){var r,n,a,i=this;if(null!=t&&t!==!!t)return w(t,1,d),null==e?e=k:w(e,0,8),J(new H(i),t,e);if(!(r=i.c))return null;if(n=(a=r.length-1)*c+1,a=r[a]){for(;a%10==0;a/=10,n--);for(a=r[0];a>=10;a/=10,n++);}return t&&i.e+1>n&&(n=i.e+1),n},U.shiftedBy=function(t){return w(t,-9007199254740991,f),this.times("1e"+t)},U.squareRoot=U.sqrt=function(){var t,e,n,a,i,o=this,s=o.c,u=o.s,c=o.e,f=C+4,l=new H("0.5");if(1!==u||!s||!s[0])return new H(!u||u<0&&(!s||s[0])?NaN:s?o:1/0);if(0==(u=Math.sqrt(+X(o)))||u==1/0?(((e=g(s)).length+c)%2==0&&(e+="0"),u=Math.sqrt(+e),c=p((c+1)/2)-(c<0||c%2),n=new H(e=u==1/0?"5e"+c:(e=u.toExponential()).slice(0,e.indexOf("e")+1)+c)):n=new H(u+""),n.c[0])for((u=(c=n.e)+f)<3&&(u=0);;)if(i=n,n=l.times(i.plus(r(o,i,f,1))),g(i.c).slice(0,u)===(e=g(n.c)).slice(0,u)){if(n.e<c&&--u,"9999"!=(e=e.slice(u-3,u+1))&&(a||"4999"!=e)){+e&&(+e.slice(1)||"5"!=e.charAt(0))||(J(n,n.e+C+2,1),t=!n.times(n).eq(o));break}if(!a&&(J(i,i.e+C+2,0),i.times(i).eq(o))){n=i;break}f+=4,u+=4,a=1}return J(n,n.e+C+1,k,t)},U.toExponential=function(t,e){return null!=t&&(w(t,0,d),t++),F(this,t,e,1)},U.toFixed=function(t,e){return null!=t&&(w(t,0,d),t=t+this.e+1),F(this,t,e)},U.toFormat=function(t,e,r){var n,a=this;if(null==r)null!=t&&e&&"object"==typeof e?(r=e,e=null):t&&"object"==typeof t?(r=t,t=e=null):r=$;else if("object"!=typeof r)throw Error(o+"Argument not an object: "+r);if(n=a.toFixed(t,e),a.c){var i,s=n.split("."),u=+r.groupSize,c=+r.secondaryGroupSize,f=r.groupSeparator||"",l=s[0],h=s[1],d=a.s<0,p=d?l.slice(1):l,g=p.length;if(c&&(i=u,u=c,c=i,g-=i),u>0&&g>0){for(i=g%u||u,l=p.substr(0,i);i<g;i+=u)l+=f+p.substr(i,u);c>0&&(l+=f+p.slice(i)),d&&(l="-"+l)}n=h?l+(r.decimalSeparator||"")+((c=+r.fractionGroupSize)?h.replace(new RegExp("\\d{"+c+"}\\B","g"),"$&"+(r.fractionGroupSeparator||"")):h):l}return(r.prefix||"")+n+(r.suffix||"")},U.toFraction=function(t){var e,n,a,i,s,u,f,h,d,p,y,w,m=this,b=m.c;if(null!=t&&(!(f=new H(t)).isInteger()&&(f.c||1!==f.s)||f.lt(R)))throw Error(o+"Argument "+(f.isInteger()?"out of range: ":"not an integer: ")+X(f));if(!b)return new H(m);for(e=new H(R),d=n=new H(R),a=h=new H(R),w=g(b),s=e.e=w.length-m.e-1,e.c[0]=l[(u=s%c)<0?c+u:u],t=!t||f.comparedTo(e)>0?s>0?e:d:f,u=D,D=1/0,f=new H(w),h.c[0]=0;p=r(f,e,0,1),1!=(i=n.plus(p.times(a))).comparedTo(t);)n=a,a=i,d=h.plus(p.times(i=d)),h=i,e=f.minus(p.times(i=e)),f=i;return i=r(t.minus(n),a,0,1),h=h.plus(i.times(d)),n=n.plus(i.times(a)),h.s=d.s=m.s,y=r(d,a,s*=2,k).minus(m).abs().comparedTo(r(h,n,s,k).minus(m).abs())<1?[d,a]:[h,n],D=u,y},U.toNumber=function(){return+X(this)},U.toPrecision=function(t,e){return null!=t&&w(t,1,d),F(this,t,e,2)},U.toString=function(t){var e,r=this,n=r.s,a=r.e;return null===a?n?(e="Infinity",n<0&&(e="-"+e)):e="NaN":(null==t?e=a<=j||a>=P?b(g(r.c),a):v(g(r.c),a,"0"):10===t?e=v(g((r=J(new H(r),C+a+1,k)).c),r.e,"0"):(w(t,2,z.length,"Base"),e=S(v(g(r.c),a,"0"),10,t,n,!0)),n<0&&r.c[0]&&(e="-"+e)),e},U.valueOf=U.toJSON=function(){return X(this)},U._isBigNumber=!0,null!=e&&H.set(e),H}()).default=r.BigNumber=r,t.exports?t.exports=r:(e||(e="undefined"!=typeof self&&self?self:window),e.BigNumber=r)}(a)})),f=o((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});e.default=class{constructor(){this.BigNum=(t,e)=>new(c.BigNumber.clone({DECIMAL_PLACES:e}))(t)}winstonToAr(t,{formatted:e=!1,decimals:r=12,trim:n=!0}={}){let a=this.stringToBigNum(t,r).shiftedBy(-12);return e?a.toFormat(r):a.toFixed(r)}arToWinston(t,{formatted:e=!1}={}){let r=this.stringToBigNum(t).shiftedBy(12);return e?r.toFormat():r.toFixed(0)}compare(t,e){let r=this.stringToBigNum(t),n=this.stringToBigNum(e);return r.comparedTo(n)}isEqual(t,e){return 0===this.compare(t,e)}isLessThan(t,e){let r=this.stringToBigNum(t),n=this.stringToBigNum(e);return r.isLessThan(n)}isGreaterThan(t,e){let r=this.stringToBigNum(t),n=this.stringToBigNum(e);return r.isGreaterThan(n)}add(t,e){let r=this.stringToBigNum(t);return this.stringToBigNum(e),r.plus(e).toFixed(0)}sub(t,e){let r=this.stringToBigNum(t);return this.stringToBigNum(e),r.minus(e).toFixed(0)}stringToBigNum(t,e=12){return this.BigNum(t,e)}}})),l=function(t,e){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return t.apply(e,r)}},h=Object.prototype.toString;function d(t){return"[object Array]"===h.call(t)}function p(t){return void 0===t}function g(t){return null!==t&&"object"==typeof t}function y(t){if("[object Object]"!==h.call(t))return!1;var e=Object.getPrototypeOf(t);return null===e||e===Object.prototype}function w(t){return"[object Function]"===h.call(t)}function m(t,e){if(null!=t)if("object"!=typeof t&&(t=[t]),d(t))for(var r=0,n=t.length;r<n;r++)e.call(null,t[r],r,t);else for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.call(null,t[a],a,t)}var b={isArray:d,isArrayBuffer:function(t){return"[object ArrayBuffer]"===h.call(t)},isBuffer:function(t){return null!==t&&!p(t)&&null!==t.constructor&&!p(t.constructor)&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)},isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:g,isPlainObject:y,isUndefined:p,isDate:function(t){return"[object Date]"===h.call(t)},isFile:function(t){return"[object File]"===h.call(t)},isBlob:function(t){return"[object Blob]"===h.call(t)},isFunction:w,isStream:function(t){return g(t)&&w(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:m,merge:function t(){var e={};function r(r,n){y(e[n])&&y(r)?e[n]=t(e[n],r):y(r)?e[n]=t({},r):d(r)?e[n]=r.slice():e[n]=r}for(var n=0,a=arguments.length;n<a;n++)m(arguments[n],r);return e},extend:function(t,e,r){return m(e,(function(e,n){t[n]=r&&"function"==typeof e?l(e,r):e})),t},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")},stripBOM:function(t){return 65279===t.charCodeAt(0)&&(t=t.slice(1)),t}};function v(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var S=function(t,e,r){if(!e)return t;var n;if(r)n=r(e);else if(b.isURLSearchParams(e))n=e.toString();else{var a=[];b.forEach(e,(function(t,e){null!=t&&(b.isArray(t)?e+="[]":t=[t],b.forEach(t,(function(t){b.isDate(t)?t=t.toISOString():b.isObject(t)&&(t=JSON.stringify(t)),a.push(v(e)+"="+v(t))})))})),n=a.join("&")}if(n){var i=t.indexOf("#");-1!==i&&(t=t.slice(0,i)),t+=(-1===t.indexOf("?")?"?":"&")+n}return t};function E(){this.handlers=[]}E.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},E.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},E.prototype.forEach=function(t){b.forEach(this.handlers,(function(e){null!==e&&t(e)}))};var T=E,A=function(t,e,r){return b.forEach(r,(function(r){t=r(t,e)})),t},_=function(t){return!(!t||!t.__CANCEL__)},O=function(t,e){b.forEach(t,(function(r,n){n!==e&&n.toUpperCase()===e.toUpperCase()&&(t[e]=r,delete t[n])}))},x=function(t,e,r,n,a){return function(t,e,r,n,a){return t.config=e,r&&(t.code=r),t.request=n,t.response=a,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},t}(new Error(t),e,r,n,a)},B=b.isStandardBrowserEnv()?{write:function(t,e,r,n,a,i){var o=[];o.push(t+"="+encodeURIComponent(e)),b.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),b.isString(n)&&o.push("path="+n),b.isString(a)&&o.push("domain="+a),!0===i&&o.push("secure"),document.cookie=o.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}},N=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],U=b.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function n(t){var n=t;return e&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return t=n(window.location.href),function(e){var r=b.isString(e)?n(e):e;return r.protocol===t.protocol&&r.host===t.host}}():function(){return!0},R=function(t){return new Promise((function(e,r){var n=t.data,a=t.headers;b.isFormData(n)&&delete a["Content-Type"];var i=new XMLHttpRequest;if(t.auth){var o=t.auth.username||"",s=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";a.Authorization="Basic "+btoa(o+":"+s)}var u,c,f=(u=t.baseURL,c=t.url,u&&!/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(c)?function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}(u,c):c);if(i.open(t.method.toUpperCase(),S(f,t.params,t.paramsSerializer),!0),i.timeout=t.timeout,i.onreadystatechange=function(){if(i&&4===i.readyState&&(0!==i.status||i.responseURL&&0===i.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in i?function(t){var e,r,n,a={};return t?(b.forEach(t.split("\n"),(function(t){if(n=t.indexOf(":"),e=b.trim(t.substr(0,n)).toLowerCase(),r=b.trim(t.substr(n+1)),e){if(a[e]&&N.indexOf(e)>=0)return;a[e]="set-cookie"===e?(a[e]?a[e]:[]).concat([r]):a[e]?a[e]+", "+r:r}})),a):a}(i.getAllResponseHeaders()):null,a={data:t.responseType&&"text"!==t.responseType?i.response:i.responseText,status:i.status,statusText:i.statusText,headers:n,config:t,request:i};!function(t,e,r){var n=r.config.validateStatus;r.status&&n&&!n(r.status)?e(x("Request failed with status code "+r.status,r.config,null,r.request,r)):t(r)}(e,r,a),i=null}},i.onabort=function(){i&&(r(x("Request aborted",t,"ECONNABORTED",i)),i=null)},i.onerror=function(){r(x("Network Error",t,null,i)),i=null},i.ontimeout=function(){var e="timeout of "+t.timeout+"ms exceeded";t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),r(x(e,t,"ECONNABORTED",i)),i=null},b.isStandardBrowserEnv()){var l=(t.withCredentials||U(f))&&t.xsrfCookieName?B.read(t.xsrfCookieName):void 0;l&&(a[t.xsrfHeaderName]=l)}if("setRequestHeader"in i&&b.forEach(a,(function(t,e){void 0===n&&"content-type"===e.toLowerCase()?delete a[e]:i.setRequestHeader(e,t)})),b.isUndefined(t.withCredentials)||(i.withCredentials=!!t.withCredentials),t.responseType)try{i.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}"function"==typeof t.onDownloadProgress&&i.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&i.upload&&i.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then((function(t){i&&(i.abort(),r(t),i=null)})),n||(n=null),i.send(n)}))},C={"Content-Type":"application/x-www-form-urlencoded"};function k(t,e){!b.isUndefined(t)&&b.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var j,P={adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(j=R),j),transformRequest:[function(t,e){return O(e,"Accept"),O(e,"Content-Type"),b.isFormData(t)||b.isArrayBuffer(t)||b.isBuffer(t)||b.isStream(t)||b.isFile(t)||b.isBlob(t)?t:b.isArrayBufferView(t)?t.buffer:b.isURLSearchParams(t)?(k(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):b.isObject(t)?(k(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(t){return t>=200&&t<300}};P.headers={common:{Accept:"application/json, text/plain, */*"}},b.forEach(["delete","get","head"],(function(t){P.headers[t]={}})),b.forEach(["post","put","patch"],(function(t){P.headers[t]=b.merge(C)}));var I=P;function D(t){t.cancelToken&&t.cancelToken.throwIfRequested()}var L=function(t){return D(t),t.headers=t.headers||{},t.data=A(t.data,t.headers,t.transformRequest),t.headers=b.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),b.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]})),(t.adapter||I.adapter)(t).then((function(e){return D(t),e.data=A(e.data,e.headers,t.transformResponse),e}),(function(e){return _(e)||(D(t),e&&e.response&&(e.response.data=A(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)}))},M=function(t,e){e=e||{};var r={},n=["url","method","data"],a=["headers","auth","proxy","params"],i=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],o=["validateStatus"];function s(t,e){return b.isPlainObject(t)&&b.isPlainObject(e)?b.merge(t,e):b.isPlainObject(e)?b.merge({},e):b.isArray(e)?e.slice():e}function u(n){b.isUndefined(e[n])?b.isUndefined(t[n])||(r[n]=s(void 0,t[n])):r[n]=s(t[n],e[n])}b.forEach(n,(function(t){b.isUndefined(e[t])||(r[t]=s(void 0,e[t]))})),b.forEach(a,u),b.forEach(i,(function(n){b.isUndefined(e[n])?b.isUndefined(t[n])||(r[n]=s(void 0,t[n])):r[n]=s(void 0,e[n])})),b.forEach(o,(function(n){n in e?r[n]=s(t[n],e[n]):n in t&&(r[n]=s(void 0,t[n]))}));var c=n.concat(a).concat(i).concat(o),f=Object.keys(t).concat(Object.keys(e)).filter((function(t){return-1===c.indexOf(t)}));return b.forEach(f,u),r};function q(t){this.defaults=t,this.interceptors={request:new T,response:new T}}q.prototype.request=function(t){"string"==typeof t?(t=arguments[1]||{}).url=arguments[0]:t=t||{},(t=M(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var e=[L,void 0],r=Promise.resolve(t);for(this.interceptors.request.forEach((function(t){e.unshift(t.fulfilled,t.rejected)})),this.interceptors.response.forEach((function(t){e.push(t.fulfilled,t.rejected)}));e.length;)r=r.then(e.shift(),e.shift());return r},q.prototype.getUri=function(t){return t=M(this.defaults,t),S(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},b.forEach(["delete","get","head","options"],(function(t){q.prototype[t]=function(e,r){return this.request(M(r||{},{method:t,url:e,data:(r||{}).data}))}})),b.forEach(["post","put","patch"],(function(t){q.prototype[t]=function(e,r,n){return this.request(M(n||{},{method:t,url:e,data:r}))}}));var $=q;function z(t){this.message=t}z.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},z.prototype.__CANCEL__=!0;var H=z;function F(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise((function(t){e=t}));var r=this;t((function(t){r.reason||(r.reason=new H(t),e(r.reason))}))}F.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},F.source=function(){var t;return{token:new F((function(e){t=e})),cancel:t}};var K=F;function G(t){var e=new $(t),r=l($.prototype.request,e);return b.extend(r,$.prototype,e),b.extend(r,e),r}var J=G(I);J.Axios=$,J.create=function(t){return G(M(J.defaults,t))},J.Cancel=H,J.CancelToken=K,J.isCancel=_,J.all=function(t){return Promise.all(t)},J.spread=function(t){return function(e){return t.apply(null,e)}},J.isAxiosError=function(t){return"object"==typeof t&&!0===t.isAxiosError};var X=J,W=J;X.default=W;for(var V=X,Z=o((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});e.default=class{constructor(t){this.METHOD_GET="GET",this.METHOD_POST="POST",this.applyConfig(t)}applyConfig(t){this.config=this.mergeDefaults(t)}getConfig(){return this.config}mergeDefaults(t){const e=t.protocol||"http",r=t.port||("https"===e?443:80);return{host:t.host||"127.0.0.1",protocol:e,port:r,timeout:t.timeout||2e4,logging:t.logging||!1,logger:t.logger||console.log}}async get(t,e){try{return await this.request().get(t,e)}catch(t){if(t.response&&t.response.status)return t.response;throw t}}async post(t,e,r){try{return await this.request().post(t,e,r)}catch(t){if(t.response&&t.response.status)return t.response;throw t}}request(){let t=V.default.create({baseURL:`${this.config.protocol}://${this.config.host}:${this.config.port}`,timeout:this.config.timeout,maxContentLength:536870912});return this.config.logging&&(t.interceptors.request.use((t=>(this.config.logger(`Requesting: ${t.baseURL}/${t.url}`),t))),t.interceptors.response.use((t=>(this.config.logger(`Response:   ${t.config.url} - ${t.status}`),t)))),t}}})),Y=o((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});e.default=class{constructor(t){this.api=t}getInfo(){return this.api.get("info").then((t=>t.data))}getPeers(){return this.api.get("peers").then((t=>t.data))}}})),Q=o((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.getError=void 0;class r extends Error{constructor(t,e={}){e.message?super(e.message):super(),this.type=t,this.response=e.response}getType(){return this.type}}e.default=r,e.getError=function(t){let e=t.data;if("string"==typeof t.data)try{e=JSON.parse(t.data)}catch(t){}if(t.data instanceof ArrayBuffer||t.data instanceof Uint8Array)try{e=JSON.parse(e.toString())}catch(t){}return e?e.error||e:t.statusText||"unknown"}})),tt=function(t){var e=ct(t),r=e[0],n=e[1];return 3*(r+n)/4-n},et=function(t){var e,r,n=ct(t),a=n[0],i=n[1],o=new it(function(t,e,r){return 3*(e+r)/4-r}(0,a,i)),s=0,u=i>0?a-4:a;for(r=0;r<u;r+=4)e=at[t.charCodeAt(r)]<<18|at[t.charCodeAt(r+1)]<<12|at[t.charCodeAt(r+2)]<<6|at[t.charCodeAt(r+3)],o[s++]=e>>16&255,o[s++]=e>>8&255,o[s++]=255&e;2===i&&(e=at[t.charCodeAt(r)]<<2|at[t.charCodeAt(r+1)]>>4,o[s++]=255&e);1===i&&(e=at[t.charCodeAt(r)]<<10|at[t.charCodeAt(r+1)]<<4|at[t.charCodeAt(r+2)]>>2,o[s++]=e>>8&255,o[s++]=255&e);return o},rt=function(t){for(var e,r=t.length,n=r%3,a=[],i=16383,o=0,s=r-n;o<s;o+=i)a.push(ft(t,o,o+i>s?s:o+i));1===n?(e=t[r-1],a.push(nt[e>>2]+nt[e<<4&63]+"==")):2===n&&(e=(t[r-2]<<8)+t[r-1],a.push(nt[e>>10]+nt[e>>4&63]+nt[e<<2&63]+"="));return a.join("")},nt=[],at=[],it="undefined"!=typeof Uint8Array?Uint8Array:Array,ot="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",st=0,ut=ot.length;st<ut;++st)nt[st]=ot[st],at[ot.charCodeAt(st)]=st;function ct(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");return-1===r&&(r=e),[r,r===e?0:4-r%4]}function ft(t,e,r){for(var n,a,i=[],o=e;o<r;o+=3)n=(t[o]<<16&16711680)+(t[o+1]<<8&65280)+(255&t[o+2]),i.push(nt[(a=n)>>18&63]+nt[a>>12&63]+nt[a>>6&63]+nt[63&a]);return i.join("")}at["-".charCodeAt(0)]=62,at["_".charCodeAt(0)]=63;var lt={byteLength:tt,toByteArray:et,fromByteArray:rt},ht="function"==typeof Object.create?function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:function(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t},dt=/%[sdj%]/g;function pt(t){if(!Ut(t)){for(var e=[],r=0;r<arguments.length;r++)e.push(bt(arguments[r]));return e.join(" ")}r=1;for(var n=arguments,a=n.length,i=String(t).replace(dt,(function(t){if("%%"===t)return"%";if(r>=a)return t;switch(t){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(t){return"[Circular]"}default:return t}})),o=n[r];r<a;o=n[++r])xt(o)||!jt(o)?i+=" "+o:i+=" "+bt(o);return i}function gt(t,e){if(Ct(global.process))return function(){return gt(t,e).apply(this,arguments)};var r=!1;return function(){return r||(console.error(e),r=!0),t.apply(this,arguments)}}var yt,wt={};function mt(t){if(Ct(yt)&&(yt=""),t=t.toUpperCase(),!wt[t])if(new RegExp("\\b"+t+"\\b","i").test(yt)){wt[t]=function(){var e=pt.apply(null,arguments);console.error("%s %d: %s",t,0,e)}}else wt[t]=function(){};return wt[t]}function bt(t,e){var r={seen:[],stylize:St};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),Ot(e)?r.showHidden=e:e&&Kt(r,e),Ct(r.showHidden)&&(r.showHidden=!1),Ct(r.depth)&&(r.depth=2),Ct(r.colors)&&(r.colors=!1),Ct(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=vt),Et(r,t,r.depth)}function vt(t,e){var r=bt.styles[e];return r?"["+bt.colors[r][0]+"m"+t+"["+bt.colors[r][1]+"m":t}function St(t,e){return t}function Et(t,e,r){if(t.customInspect&&e&&Dt(e.inspect)&&e.inspect!==bt&&(!e.constructor||e.constructor.prototype!==e)){var n=e.inspect(r,t);return Ut(n)||(n=Et(t,n,r)),n}var a=function(t,e){if(Ct(e))return t.stylize("undefined","undefined");if(Ut(e)){var r="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(r,"string")}if(Nt(e))return t.stylize(""+e,"number");if(Ot(e))return t.stylize(""+e,"boolean");if(xt(e))return t.stylize("null","null")}(t,e);if(a)return a;var i=Object.keys(e),o=function(t){var e={};return t.forEach((function(t,r){e[t]=!0})),e}(i);if(t.showHidden&&(i=Object.getOwnPropertyNames(e)),It(e)&&(i.indexOf("message")>=0||i.indexOf("description")>=0))return Tt(e);if(0===i.length){if(Dt(e)){var s=e.name?": "+e.name:"";return t.stylize("[Function"+s+"]","special")}if(kt(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(Pt(e))return t.stylize(Date.prototype.toString.call(e),"date");if(It(e))return Tt(e)}var u,c="",f=!1,l=["{","}"];(_t(e)&&(f=!0,l=["[","]"]),Dt(e))&&(c=" [Function"+(e.name?": "+e.name:"")+"]");return kt(e)&&(c=" "+RegExp.prototype.toString.call(e)),Pt(e)&&(c=" "+Date.prototype.toUTCString.call(e)),It(e)&&(c=" "+Tt(e)),0!==i.length||f&&0!=e.length?r<0?kt(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special"):(t.seen.push(e),u=f?function(t,e,r,n,a){for(var i=[],o=0,s=e.length;o<s;++o)Gt(e,String(o))?i.push(At(t,e,r,n,String(o),!0)):i.push("");return a.forEach((function(a){a.match(/^\d+$/)||i.push(At(t,e,r,n,a,!0))})),i}(t,e,r,o,i):i.map((function(n){return At(t,e,r,o,n,f)})),t.seen.pop(),function(t,e,r){if(t.reduce((function(t,e){return e.indexOf("\n"),t+e.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return r[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+r[1];return r[0]+e+" "+t.join(", ")+" "+r[1]}(u,c,l)):l[0]+c+l[1]}function Tt(t){return"["+Error.prototype.toString.call(t)+"]"}function At(t,e,r,n,a,i){var o,s,u;if((u=Object.getOwnPropertyDescriptor(e,a)||{value:e[a]}).get?s=u.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):u.set&&(s=t.stylize("[Setter]","special")),Gt(n,a)||(o="["+a+"]"),s||(t.seen.indexOf(u.value)<0?(s=xt(r)?Et(t,u.value,null):Et(t,u.value,r-1)).indexOf("\n")>-1&&(s=i?s.split("\n").map((function(t){return"  "+t})).join("\n").substr(2):"\n"+s.split("\n").map((function(t){return"   "+t})).join("\n")):s=t.stylize("[Circular]","special")),Ct(o)){if(i&&a.match(/^\d+$/))return s;(o=JSON.stringify(""+a)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=t.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=t.stylize(o,"string"))}return o+": "+s}function _t(t){return Array.isArray(t)}function Ot(t){return"boolean"==typeof t}function xt(t){return null===t}function Bt(t){return null==t}function Nt(t){return"number"==typeof t}function Ut(t){return"string"==typeof t}function Rt(t){return"symbol"==typeof t}function Ct(t){return void 0===t}function kt(t){return jt(t)&&"[object RegExp]"===qt(t)}function jt(t){return"object"==typeof t&&null!==t}function Pt(t){return jt(t)&&"[object Date]"===qt(t)}function It(t){return jt(t)&&("[object Error]"===qt(t)||t instanceof Error)}function Dt(t){return"function"==typeof t}function Lt(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t}function Mt(t){return Buffer.isBuffer(t)}function qt(t){return Object.prototype.toString.call(t)}function $t(t){return t<10?"0"+t.toString(10):t.toString(10)}bt.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},bt.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};var zt=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Ht(){var t=new Date,e=[$t(t.getHours()),$t(t.getMinutes()),$t(t.getSeconds())].join(":");return[t.getDate(),zt[t.getMonth()],e].join(" ")}function Ft(){console.log("%s - %s",Ht(),pt.apply(null,arguments))}function Kt(t,e){if(!e||!jt(e))return t;for(var r=Object.keys(e),n=r.length;n--;)t[r[n]]=e[r[n]];return t}function Gt(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var Jt={inherits:ht,_extend:Kt,log:Ft,isBuffer:Mt,isPrimitive:Lt,isFunction:Dt,isError:It,isDate:Pt,isObject:jt,isRegExp:kt,isUndefined:Ct,isSymbol:Rt,isString:Ut,isNumber:Nt,isNullOrUndefined:Bt,isNull:xt,isBoolean:Ot,isArray:_t,inspect:bt,deprecate:gt,format:pt,debuglog:mt},Xt=s(Object.freeze({__proto__:null,format:pt,deprecate:gt,debuglog:mt,inspect:bt,isArray:_t,isBoolean:Ot,isNull:xt,isNullOrUndefined:Bt,isNumber:Nt,isString:Ut,isSymbol:Rt,isUndefined:Ct,isRegExp:kt,isObject:jt,isDate:Pt,isError:It,isFunction:Dt,isPrimitive:Lt,isBuffer:Mt,log:Ft,inherits:ht,_extend:Kt,default:Jt})),Wt=o((function(t,e){function r(t){if("undefined"==typeof TextEncoder){return(new(0,Xt.TextEncoder)).encode(t)}return(new TextEncoder).encode(t)}function n(t){return new Uint8Array(lt.toByteArray(s(t)))}function a(t){return lt.fromByteArray(new Uint8Array(t))}function i(t){return o(a(t))}function o(t){return t.replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"")}function s(t){let e;return e=(t=t.replace(/\-/g,"+").replace(/\_/g,"/")).length%4==0?0:4-t.length%4,t.concat("=".repeat(e))}Object.defineProperty(e,"__esModule",{value:!0}),e.b64UrlDecode=e.b64UrlEncode=e.bufferTob64Url=e.bufferTob64=e.b64UrlToBuffer=e.stringToB64Url=e.stringToBuffer=e.bufferToString=e.b64UrlToString=e.concatBuffers=void 0,e.concatBuffers=function(t){let e=0;for(let r=0;r<t.length;r++)e+=t[r].byteLength;let r=new Uint8Array(e),n=0;r.set(new Uint8Array(t[0]),n),n+=t[0].byteLength;for(let e=1;e<t.length;e++)r.set(new Uint8Array(t[e]),n),n+=t[e].byteLength;return r},e.b64UrlToString=function(t){let e=n(t);if("undefined"==typeof TextDecoder){return new(0,Xt.TextDecoder)("utf-8",{fatal:!0}).decode(e)}return new TextDecoder("utf-8",{fatal:!0}).decode(e)},e.bufferToString=function(t){if("undefined"==typeof TextDecoder){return new(0,Xt.TextDecoder)("utf-8",{fatal:!0}).decode(t)}return new TextDecoder("utf-8",{fatal:!0}).decode(t)},e.stringToBuffer=r,e.stringToB64Url=function(t){return i(r(t))},e.b64UrlToBuffer=n,e.bufferTob64=a,e.bufferTob64Url=i,e.b64UrlEncode=o,e.b64UrlDecode=s})),Vt=o((function(t,e){async function r(t){if(Array.isArray(t)){const e=ae.default.utils.concatBuffers([ae.default.utils.stringToBuffer("list"),ae.default.utils.stringToBuffer(t.length.toString())]);return await n(t,await ae.default.crypto.hash(e,"SHA-384"))}const e=ae.default.utils.concatBuffers([ae.default.utils.stringToBuffer("blob"),ae.default.utils.stringToBuffer(t.byteLength.toString())]),r=ae.default.utils.concatBuffers([await ae.default.crypto.hash(e,"SHA-384"),await ae.default.crypto.hash(t,"SHA-384")]);return await ae.default.crypto.hash(r,"SHA-384")}async function n(t,e){if(t.length<1)return e;const a=ae.default.utils.concatBuffers([e,await r(t[0])]),i=await ae.default.crypto.hash(a,"SHA-384");return await n(t.slice(1),i)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r})),Zt=o((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.debug=e.validatePath=e.arrayCompare=e.bufferToInt=e.intToBuffer=e.arrayFlatten=e.generateProofs=e.buildLayers=e.generateTransactionChunks=e.generateTree=e.computeRootHash=e.generateLeaves=e.chunkData=e.MIN_CHUNK_SIZE=e.MAX_CHUNK_SIZE=void 0,e.MAX_CHUNK_SIZE=262144,e.MIN_CHUNK_SIZE=32768;const r=32;async function n(t){let r=[],n=t,a=0;for(;n.byteLength>=e.MAX_CHUNK_SIZE;){let t=e.MAX_CHUNK_SIZE,i=n.byteLength-e.MAX_CHUNK_SIZE;i>0&&i<e.MIN_CHUNK_SIZE&&(t=Math.ceil(n.byteLength/2));const o=n.slice(0,t),s=await ae.default.crypto.hash(o);a+=o.byteLength,r.push({dataHash:s,minByteRange:a-o.byteLength,maxByteRange:a}),n=n.slice(t)}return r.push({dataHash:await ae.default.crypto.hash(n),minByteRange:a,maxByteRange:a+n.byteLength}),r}async function a(t){return Promise.all(t.map((async({dataHash:t,minByteRange:e,maxByteRange:r})=>({type:"leaf",id:await l(await Promise.all([l(t),l(h(r))])),dataHash:t,minByteRange:e,maxByteRange:r}))))}async function i(t){return await o(await a(await n(t)))}async function o(t,e=0){if(t.length<2){return await f(t[0],t[1])}const r=[];for(let e=0;e<t.length;e+=2)r.push(await f(t[e],t[e+1]));return o(r,e+1)}function s(t){const e=u(t);return Array.isArray(e)?c(e):[e]}function u(t,e=new Uint8Array,r=0){if("leaf"==t.type)return{offset:t.maxByteRange-1,proof:Wt.concatBuffers([e,t.dataHash,h(t.maxByteRange)])};if("branch"==t.type){const n=Wt.concatBuffers([e,t.leftChild.id,t.rightChild.id,h(t.byteRange)]);return[u(t.leftChild,n,r+1),u(t.rightChild,n,r+1)]}throw new Error("Unexpected node type")}function c(t){const e=[];return t.forEach((t=>{Array.isArray(t)?e.push(...c(t)):e.push(t)})),e}async function f(t,e){if(!e)return t;return{type:"branch",id:await l([await l(t.id),await l(e.id),await l(h(t.maxByteRange))]),byteRange:t.maxByteRange,maxByteRange:e.maxByteRange,leftChild:t,rightChild:e}}async function l(t){return Array.isArray(t)&&(t=ae.default.utils.concatBuffers(t)),new Uint8Array(await ae.default.crypto.hash(t))}function h(t){const e=new Uint8Array(32);for(var r=e.length-1;r>=0;r--){var n=t%256;e[r]=n,t=(t-n)/256}return e}function d(t){let e=0;for(var r=0;r<t.length;r++)e*=256,e+=t[r];return e}e.chunkData=n,e.generateLeaves=a,e.computeRootHash=async function(t){return(await i(t)).id},e.generateTree=i,e.generateTransactionChunks=async function(t){const e=await n(t),r=await a(e),i=await o(r),u=await s(i),c=e.slice(-1)[0];return c.maxByteRange-c.minByteRange==0&&(e.splice(e.length-1,1),u.splice(u.length-1,1)),{data_root:i.id,chunks:e,proofs:u}},e.buildLayers=o,e.generateProofs=s,e.arrayFlatten=c,e.intToBuffer=h,e.bufferToInt=d;e.arrayCompare=(t,e)=>t.every(((t,r)=>e[r]===t)),e.validatePath=async function t(n,a,i,o,s){if(o<=0)return!1;if(a>=o)return t(n,0,o-1,o,s);if(a<0)return t(n,0,0,o,s);if(64==s.length){const t=s.slice(0,r),a=s.slice(t.length,t.length+32),u=await l([await l(t),await l(a)]);return!!e.arrayCompare(n,u)&&{offset:o-1,leftBound:i,rightBound:o,chunkSize:o-i}}const u=s.slice(0,r),c=s.slice(u.length,u.length+r),f=s.slice(u.length+c.length,u.length+c.length+32),h=d(f),p=s.slice(u.length+c.length+f.length),g=await l([await l(u),await l(c),await l(f)]);return!!e.arrayCompare(n,g)&&(a<h?await t(u,a,i,Math.min(o,h),p):await t(c,a,Math.max(i,h),o,p))},e.debug=async function t(e,n=""){if(e.byteLength<1)return n;const a=e.slice(0,r),i=e.slice(a.length,a.length+r),o=e.slice(a.length+i.length,a.length+i.length+32),s=d(o),u=e.slice(a.length+i.length+o.length),c=await l([await l(a),await l(i),await l(o)]);return t(u,`${n}\n${Xt.inspect(Buffer.from(a))},${Xt.inspect(Buffer.from(i))},${s} => ${Xt.inspect(c)}`)}})),Yt=o((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.Tag=void 0;class r{get(t,e){if(!Object.getOwnPropertyNames(this).includes(t))throw new Error(`Field "${t}" is not a property of the Arweave Transaction class.`);return this[t]instanceof Uint8Array?e&&e.decode&&e.string?Wt.bufferToString(this[t]):e&&e.decode&&!e.string?this[t]:Wt.bufferTob64Url(this[t]):e&&1==e.decode?e&&e.string?Wt.b64UrlToString(this[t]):Wt.b64UrlToBuffer(this[t]):this[t]}}class n extends r{constructor(t,e,r=!1){super(),this.name=t,this.value=e}}e.Tag=n;e.default=class extends r{constructor(t={}){super(),this.format=2,this.id="",this.last_tx="",this.owner="",this.tags=[],this.target="",this.quantity="0",this.data_size="0",this.data=new Uint8Array,this.data_root="",this.reward="0",this.signature="",Object.assign(this,t),"string"==typeof this.data&&(this.data=Wt.b64UrlToBuffer(this.data)),t.tags&&(this.tags=t.tags.map((t=>new n(t.name,t.value))))}addTag(t,e){this.tags.push(new n(Wt.stringToB64Url(t),Wt.stringToB64Url(e)))}toJSON(){return{format:this.format,id:this.id,last_tx:this.last_tx,owner:this.owner,tags:this.tags,target:this.target,quantity:this.quantity,data:Wt.bufferTob64Url(this.data),data_size:this.data_size,data_root:this.data_root,data_tree:this.data_tree,reward:this.reward,signature:this.signature}}setOwner(t){this.owner=t}setSignature({id:t,owner:e,tags:r,signature:n}){this.id=t,this.owner=e,r&&(this.tags=r),this.signature=n}async prepareChunks(t){!this.chunks&&t.byteLength>0&&(this.chunks=await Zt.generateTransactionChunks(t),this.data_root=Wt.bufferTob64Url(this.chunks.data_root)),this.chunks||0!==t.byteLength||(this.chunks={chunks:[],data_root:new Uint8Array,proofs:[]},this.data_root="")}getChunk(t,e){if(!this.chunks)throw new Error("Chunks have not been prepared");const r=this.chunks.proofs[t],n=this.chunks.chunks[t];return{data_root:this.data_root,data_size:this.data_size,data_path:Wt.bufferTob64Url(r.proof),offset:r.offset.toString(),chunk:Wt.bufferTob64Url(e.slice(n.minByteRange,n.maxByteRange))}}async getSignatureData(){switch(this.format){case 1:let t=this.tags.reduce(((t,e)=>Wt.concatBuffers([t,e.get("name",{decode:!0,string:!1}),e.get("value",{decode:!0,string:!1})])),new Uint8Array);return Wt.concatBuffers([this.get("owner",{decode:!0,string:!1}),this.get("target",{decode:!0,string:!1}),this.get("data",{decode:!0,string:!1}),Wt.stringToBuffer(this.quantity),Wt.stringToBuffer(this.reward),this.get("last_tx",{decode:!0,string:!1}),t]);case 2:await this.prepareChunks(this.data);const e=this.tags.map((t=>[t.get("name",{decode:!0,string:!1}),t.get("value",{decode:!0,string:!1})]));return await Vt.default([Wt.stringToBuffer(this.format.toString()),this.get("owner",{decode:!0,string:!1}),this.get("target",{decode:!0,string:!1}),Wt.stringToBuffer(this.quantity),Wt.stringToBuffer(this.reward),this.get("last_tx",{decode:!0,string:!1}),e,Wt.stringToBuffer(this.data_size),this.get("data_root",{decode:!0,string:!1})]);default:throw new Error(`Unexpected transaction format: ${this.format}`)}}}})),Qt=o((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.TransactionUploader=void 0;const r=["invalid_json","chunk_too_big","data_path_too_big","offset_too_big","data_size_too_big","chunk_proof_ratio_not_attractive","invalid_proof"];class n{constructor(t,e){if(this.api=t,this.chunkIndex=0,this.txPosted=!1,this.lastRequestTimeEnd=0,this.totalErrors=0,this.lastResponseStatus=0,this.lastResponseError="",!e.id)throw new Error("Transaction is not signed");if(!e.chunks)throw new Error("Transaction chunks not prepared");this.data=e.data,this.transaction=new Yt.default(Object.assign({},e,{data:new Uint8Array(0)}))}get isComplete(){return this.txPosted&&this.chunkIndex===this.transaction.chunks.chunks.length}get totalChunks(){return this.transaction.chunks.chunks.length}get uploadedChunks(){return this.chunkIndex}get pctComplete(){return Math.trunc(this.uploadedChunks/this.totalChunks*100)}async uploadChunk(){if(this.isComplete)throw new Error("Upload is already complete");if(""!==this.lastResponseError?this.totalErrors++:this.totalErrors=0,100===this.totalErrors)throw new Error(`Unable to complete upload: ${this.lastResponseStatus}: ${this.lastResponseError}`);let t=""===this.lastResponseError?0:Math.max(this.lastRequestTimeEnd+4e4-Date.now(),4e4);if(t>0&&(t-=t*Math.random()*.3,await new Promise((e=>setTimeout(e,t)))),this.lastResponseError="",!this.txPosted)return void await this.postTransaction();const e=this.transaction.getChunk(this.chunkIndex,this.data);if(!await Zt.validatePath(this.transaction.chunks.data_root,parseInt(e.offset),0,parseInt(e.data_size),Wt.b64UrlToBuffer(e.data_path)))throw new Error(`Unable to validate chunk ${this.chunkIndex}`);const n=await this.api.post("chunk",this.transaction.getChunk(this.chunkIndex,this.data)).catch((t=>(console.error(t.message),{status:-1,data:{error:t.message}})));if(this.lastRequestTimeEnd=Date.now(),this.lastResponseStatus=n.status,200==this.lastResponseStatus)this.chunkIndex++;else if(this.lastResponseError=Q.getError(n),r.includes(this.lastResponseError))throw new Error(`Fatal error uploading chunk ${this.chunkIndex}: ${this.lastResponseError}`)}static async fromSerialized(t,e,r){if(!e||"number"!=typeof e.chunkIndex||"object"!=typeof e.transaction)throw new Error("Serialized object does not match expected format.");const a=new n(t,new Yt.default(e.transaction));if(a.chunkIndex=e.chunkIndex,a.lastRequestTimeEnd=e.lastRequestTimeEnd,a.lastResponseError=e.lastResponseError,a.lastResponseStatus=e.lastResponseStatus,a.txPosted=e.txPosted,a.data=r,await a.transaction.prepareChunks(r),a.transaction.data_root!==e.transaction.data_root)throw new Error("Data mismatch: Uploader doesn't match provided data.");return a}static async fromTransactionId(t,e){const r=await t.get(`tx/${e}`);if(200!==r.status)throw new Error(`Tx ${e} not found: ${r.status}`);const n=r.data;n.data=new Uint8Array(0);return{txPosted:!0,chunkIndex:0,lastResponseError:"",lastRequestTimeEnd:0,lastResponseStatus:0,transaction:n}}toJSON(){return{chunkIndex:this.chunkIndex,transaction:this.transaction,lastRequestTimeEnd:this.lastRequestTimeEnd,lastResponseStatus:this.lastResponseStatus,lastResponseError:this.lastResponseError,txPosted:this.txPosted}}async postTransaction(){if(this.totalChunks<=1){this.transaction.data=this.data;const t=await this.api.post("tx",this.transaction).catch((t=>(console.error(t),{status:-1,data:{error:t.message}})));if(this.lastRequestTimeEnd=Date.now(),this.lastResponseStatus=t.status,this.transaction.data=new Uint8Array(0),t.status>=200&&t.status<300)return this.txPosted=!0,void(this.chunkIndex=1);throw this.lastResponseError=Q.getError(t),new Error(`Unable to upload transaction: ${t.status}, ${this.lastResponseError}`)}const t=await this.api.post("tx",this.transaction);if(this.lastRequestTimeEnd=Date.now(),this.lastResponseStatus=t.status,!(t.status>=200&&t.status<300))throw this.lastResponseError=Q.getError(t),new Error(`Unable to upload transaction: ${t.status}, ${this.lastResponseError}`);this.txPosted=!0}}e.TransactionUploader=n})),te=o((function(t,e){var r=a&&a.__await||function(t){return this instanceof r?(this.v=t,this):new r(t)},n=a&&a.__asyncGenerator||function(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a,i=n.apply(t,e||[]),o=[];return a={},s("next"),s("throw"),s("return"),a[Symbol.asyncIterator]=function(){return this},a;function s(t){i[t]&&(a[t]=function(e){return new Promise((function(r,n){o.push([t,e,r,n])>1||u(t,e)}))})}function u(t,e){try{(n=i[t](e)).value instanceof r?Promise.resolve(n.value.v).then(c,f):l(o[0][2],n)}catch(t){l(o[0][3],t)}var n}function c(t){u("next",t)}function f(t){u("throw",t)}function l(t,e){t(e),o.shift(),o.length&&u(o[0][0],o[0][1])}};Object.defineProperty(e,"__esModule",{value:!0});e.default=class{constructor(t,e,r){this.api=t,this.crypto=e,this.chunks=r}getTransactionAnchor(){return this.api.get("tx_anchor").then((t=>t.data))}getPrice(t,e){let r=e?`price/${t}/${e}`:`price/${t}`;return this.api.get(r,{transformResponse:[function(t){return t}]}).then((t=>t.data))}async get(t){const e=await this.api.get(`tx/${t}`);if(200==e.status){const r=parseInt(e.data.data_size);if(e.data.format>=2&&r>0&&r<=12582912){const r=await this.getData(t);return new Yt.default(Object.assign(Object.assign({},e.data),{data:r}))}return new Yt.default(Object.assign(Object.assign({},e.data),{format:e.data.format||1}))}if(202==e.status)throw new Q.default("TX_PENDING");if(404==e.status)throw new Q.default("TX_NOT_FOUND");if(410==e.status)throw new Q.default("TX_FAILED");throw new Q.default("TX_INVALID")}fromRaw(t){return new Yt.default(t)}async search(t,e){return this.api.post("arql",{op:"equals",expr1:t,expr2:e}).then((t=>t.data?t.data:[]))}getStatus(t){return this.api.get(`tx/${t}/status`).then((t=>200==t.status?{status:200,confirmed:t.data}:{status:t.status,confirmed:null}))}async getData(t,e){const r=await this.api.get(`${t}`,{responseType:"arraybuffer"});let n;if(200===r.status&&(n=new Uint8Array(r.data)),400===r.status&&"tx_data_too_big"===Q.getError(r)&&(n=await this.chunks.downloadChunkedData(t)),!n){if(202==r.status)throw new Q.default("TX_PENDING");if(404==r.status)throw new Q.default("TX_NOT_FOUND");if(410==r.status)throw new Q.default("TX_FAILED");throw new Error(`Unable to get data: ${r.status} - ${Q.getError(r)}`)}return e&&e.decode&&!e.string?n:e&&e.decode&&e.string?Wt.bufferToString(n):Wt.bufferTob64Url(n)}async sign(t,e,r){if(!(e||window&&window.arweaveWallet))throw new Error("A new Arweave transaction must provide the jwk parameter.");if(e&&"use_wallet"!==e){t.setOwner(e.n);let n=await t.getSignatureData(),a=await this.crypto.sign(e,n,r),i=await this.crypto.hash(a);t.setSignature({id:Wt.bufferTob64Url(i),owner:e.n,signature:Wt.bufferTob64Url(a)})}else{try{(await window.arweaveWallet.getPermissions()).includes("SIGN_TRANSACTION")||await window.arweaveWallet.connect(["SIGN_TRANSACTION"])}catch(t){}const e=await window.arweaveWallet.sign(t,r);t.setSignature({id:e.id,owner:e.owner,tags:e.tags,signature:e.signature})}}async verify(t){const e=await t.getSignatureData(),r=t.get("signature",{decode:!0,string:!1}),n=Wt.bufferTob64Url(await this.crypto.hash(r));if(t.id!==n)throw new Error("Invalid transaction signature or ID! The transaction ID doesn't match the expected SHA-256 hash of the signature.");return this.crypto.verify(t.owner,e,r)}async post(t){if("string"==typeof t?t=new Yt.default(JSON.parse(t)):"function"==typeof t.readInt32BE?t=new Yt.default(JSON.parse(t.toString())):"object"!=typeof t||t instanceof Yt.default||(t=new Yt.default(t)),!(t instanceof Yt.default))throw new Error("Must be Transaction object");t.chunks||await t.prepareChunks(t.data);const e=await this.getUploader(t);try{for(;!e.isComplete;)await e.uploadChunk()}catch(t){if(e.lastResponseStatus>0)return{status:e.lastResponseStatus,statusText:e.lastResponseError,data:{error:e.lastResponseError}};throw t}return{status:200,statusText:"OK",data:{}}}async getUploader(t,e){let r;if(t instanceof Yt.default)r=new Qt.TransactionUploader(this.api,t);else{if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),!(e&&e instanceof Uint8Array))throw new Error("Must provide data when resuming upload");"string"==typeof t&&(t=await Qt.TransactionUploader.fromTransactionId(this.api,t)),r=await Qt.TransactionUploader.fromSerialized(this.api,t,e)}return r}upload(t,e){return n(this,arguments,(function*(){const n=yield r(this.getUploader(t,e));for(;!n.isComplete;)yield r(n.uploadChunk()),yield yield r(n);return yield r(n)}))}}})),ee=o((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});e.default=class{constructor(t,e){this.api=t,this.crypto=e}getBalance(t){return this.api.get(`wallet/${t}/balance`,{transformResponse:[function(t){return t}]}).then((t=>t.data))}getLastTransactionID(t){return this.api.get(`wallet/${t}/last_tx`).then((t=>t.data))}generate(){return this.crypto.generateJWK()}async jwkToAddress(t){return t&&"use_wallet"!==t?this.getAddress(t):this.getAddress()}async getAddress(t){if(t&&"use_wallet"!==t)return this.ownerToAddress(t.n);try{await window.arweaveWallet.connect(["ACCESS_ADDRESS"])}catch(t){}return window.arweaveWallet.getActiveAddress()}async ownerToAddress(t){return Wt.bufferTob64Url(await this.crypto.hash(Wt.b64UrlToBuffer(t)))}}})),re=o((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.SiloResource=void 0;e.default=class{constructor(t,e,r){this.api=t,this.crypto=e,this.transactions=r}async get(t){if(!t)throw new Error("No Silo URI specified");const e=await this.parseUri(t),r=await this.transactions.search("Silo-Name",e.getAccessKey());if(0==r.length)throw new Error(`No data could be found for the Silo URI: ${t}`);const n=await this.transactions.get(r[0]);if(!n)throw new Error(`No data could be found for the Silo URI: ${t}`);const a=n.get("data",{decode:!0,string:!1});return this.crypto.decrypt(a,e.getEncryptionKey())}async readTransactionData(t,e){if(!e)throw new Error("No Silo URI specified");const r=await this.parseUri(e),n=t.get("data",{decode:!0,string:!1});return this.crypto.decrypt(n,r.getEncryptionKey())}async parseUri(t){const e=t.match(/^([a-z0-9-_]+)\.([0-9]+)/i);if(!e)throw new Error("Invalid Silo name, must be a name in the format of [a-z0-9]+.[0-9]+, e.g. 'bubble.7'");const n=e[1],a=Math.pow(2,parseInt(e[2])),i=await this.hash(Wt.stringToBuffer(n),a),o=Wt.bufferTob64(i.slice(0,15)),s=await this.hash(i.slice(16,31),1);return new r(t,o,s)}async hash(t,e){let r=await this.crypto.hash(t);for(let t=0;t<e-1;t++)r=await this.crypto.hash(r);return r}};class r{constructor(t,e,r){this.uri=t,this.accessKey=e,this.encryptionKey=r}getUri(){return this.uri}getAccessKey(){return this.accessKey}getEncryptionKey(){return this.encryptionKey}}e.SiloResource=r})),ne=o((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});e.default=class{constructor(t){this.api=t}async getTransactionOffset(t){const e=await this.api.get(`tx/${t}/offset`);if(200===e.status)return e.data;throw new Error(`Unable to get transaction offset: ${Q.getError(e)}`)}async getChunk(t){const e=await this.api.get(`chunk/${t}`);if(200===e.status)return e.data;throw new Error(`Unable to get chunk: ${Q.getError(e)}`)}async getChunkData(t){const e=await this.getChunk(t);return Wt.b64UrlToBuffer(e.chunk)}firstChunkOffset(t){return parseInt(t.offset)-parseInt(t.size)+1}async downloadChunkedData(t){const e=await this.getTransactionOffset(t),r=parseInt(e.size),n=parseInt(e.offset),a=n-r+1,i=new Uint8Array(r);let o=0;for(;a+o<n;){const t=await this.getChunkData(a+o);i.set(t,o),o+=t.length}return i}}})),ae=o((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});class r{constructor(t){this.api=new Z.default(t),this.wallets=new ee.default(this.api,r.crypto),this.chunks=new ne.default(this.api),this.transactions=new te.default(this.api,r.crypto,this.chunks),this.silo=new re.default(this.api,this.crypto,this.transactions),this.network=new Y.default(this.api),this.ar=new f.default}get crypto(){return r.crypto}get utils(){return r.utils}getConfig(){return{api:this.api.getConfig(),crypto:null}}async createTransaction(t,e){const r={};if(Object.assign(r,t),!(t.data||t.target&&t.quantity))throw new Error("A new Arweave transaction must have a 'data' value, or 'target' and 'quantity' values.");if(null==t.owner&&e&&"use_wallet"!==e&&(r.owner=e.n),null==t.last_tx&&(r.last_tx=await this.transactions.getTransactionAnchor()),"string"==typeof t.data&&(t.data=Wt.stringToBuffer(t.data)),t.data instanceof ArrayBuffer&&(t.data=new Uint8Array(t.data)),t.data&&!(t.data instanceof Uint8Array))throw new Error("Expected data to be a string, Uint8Array or ArrayBuffer");if(null==t.reward){const e=t.data?t.data.byteLength:0;r.reward=await this.transactions.getPrice(e,r.target)}r.data_root="",r.data_size=t.data?t.data.byteLength.toString():"0",r.data=t.data||new Uint8Array(0);const n=new Yt.default(r);return await n.getSignatureData(),n}async createSiloTransaction(t,e,r){const n={};if(Object.assign(n,t),!t.data)throw new Error("Silo transactions must have a 'data' value");if(!r)throw new Error("No Silo URI specified.");if(t.target||t.quantity)throw new Error("Silo transactions can only be used for storing data, sending AR to other wallets isn't supported.");if(null==t.owner){if(!e||!e.n)throw new Error("A new Arweave transaction must either have an 'owner' attribute, or you must provide the jwk parameter.");n.owner=e.n}null==t.last_tx&&(n.last_tx=await this.transactions.getTransactionAnchor());const a=await this.silo.parseUri(r);if("string"==typeof t.data){const e=await this.crypto.encrypt(Wt.stringToBuffer(t.data),a.getEncryptionKey());n.reward=await this.transactions.getPrice(e.byteLength),n.data=Wt.bufferTob64Url(e)}if(t.data instanceof Uint8Array){const e=await this.crypto.encrypt(t.data,a.getEncryptionKey());n.reward=await this.transactions.getPrice(e.byteLength),n.data=Wt.bufferTob64Url(e)}const i=new Yt.default(n);return i.addTag("Silo-Name",a.getAccessKey()),i.addTag("Silo-Version","0.1.0"),i}arql(t){return this.api.post("/arql",t).then((t=>t.data||[]))}}e.default=r,r.utils=Wt})),ie=o((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});e.default=class{constructor(){if(this.keyLength=4096,this.publicExponent=65537,this.hashAlgorithm="sha256",!this.detectWebCrypto())throw new Error("SubtleCrypto not available!");this.driver=crypto.subtle}async generateJWK(){let t=await this.driver.generateKey({name:"RSA-PSS",modulusLength:4096,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},!0,["sign"]),e=await this.driver.exportKey("jwk",t.privateKey);return{kty:e.kty,e:e.e,n:e.n,d:e.d,p:e.p,q:e.q,dp:e.dp,dq:e.dq,qi:e.qi}}async sign(t,e,{saltLength:r}={}){let n=await this.driver.sign({name:"RSA-PSS",saltLength:32},await this.jwkToCryptoKey(t),e);return new Uint8Array(n)}async hash(t,e="SHA-256"){let r=await this.driver.digest(e,t);return new Uint8Array(r)}async verify(t,e,r){const n={kty:"RSA",e:"AQAB",n:t},a=await this.jwkToPublicCryptoKey(n),i=this.driver.verify({name:"RSA-PSS",saltLength:32},a,r,e),o=this.driver.verify({name:"RSA-PSS",saltLength:0},a,r,e);return i||o}async jwkToCryptoKey(t){return this.driver.importKey("jwk",t,{name:"RSA-PSS",hash:{name:"SHA-256"}},!1,["sign"])}async jwkToPublicCryptoKey(t){return this.driver.importKey("jwk",t,{name:"RSA-PSS",hash:{name:"SHA-256"}},!1,["verify"])}detectWebCrypto(){if("undefined"==typeof crypto)return!1;const t=null===crypto||void 0===crypto?void 0:crypto.subtle;if(void 0===t)return!1;return["generateKey","importKey","exportKey","digest","sign"].every((e=>"function"==typeof t[e]))}async encrypt(t,e,r){const n=await this.driver.importKey("raw","string"==typeof e?Wt.stringToBuffer(e):e,{name:"PBKDF2",length:32},!1,["deriveKey"]),a=await this.driver.deriveKey({name:"PBKDF2",salt:r?Wt.stringToBuffer(r):Wt.stringToBuffer("salt"),iterations:1e5,hash:"SHA-256"},n,{name:"AES-CBC",length:256},!1,["encrypt","decrypt"]),i=new Uint8Array(16);crypto.getRandomValues(i);const o=await this.driver.encrypt({name:"AES-CBC",iv:i},a,t);return Wt.concatBuffers([i,o])}async decrypt(t,e,r){const n=await this.driver.importKey("raw","string"==typeof e?Wt.stringToBuffer(e):e,{name:"PBKDF2",length:32},!1,["deriveKey"]),a=await this.driver.deriveKey({name:"PBKDF2",salt:r?Wt.stringToBuffer(r):Wt.stringToBuffer("salt"),iterations:1e5,hash:"SHA-256"},n,{name:"AES-CBC",length:256},!1,["encrypt","decrypt"]),i=t.slice(0,16),o=await this.driver.decrypt({name:"AES-CBC",iv:i},a,t.slice(16));return Wt.concatBuffers([o])}}})),oe=i(o((function(t,e){var r=a&&a.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),n=a&&a.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||r(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),ae.default.crypto=new ie.default,ae.default.init=function(t={}){const e=function(){const t={host:"arweave.net",port:443,protocol:"https"};if(!(window&&window.location&&window.location.protocol&&window.location.hostname))return t;const e=window.location.protocol.replace(":",""),r=window.location.hostname,n=window.location.port?parseInt(window.location.port):"https"==e?443:80;return["localhost","127.0.0.1"].includes(r)||"file"==e?t:{host:r,port:n,protocol:e}}(),r=t.protocol||e.protocol,n=t.host||e.host,a=t.port||e.port;return new ae.default(Object.assign(Object.assign({},t),{host:n,protocol:r,port:a}))},window.Arweave=ae.default,n(ae,e),e.default=ae.default})));const se=fe("address"),ue=fe("keyfile"),ce=function(){const{subscribe:r,set:n,update:a}=t([]);null!==localStorage.getItem("profiles")&&void 0!==localStorage.getItem("profiles")&&n(JSON.parse(localStorage.getItem("profiles")));return a((t=>0!==t.filter((t=>t.address===e(se))).length?t:""!==e(se)||""!==e(ue)?(t.push({address:e(se),keyfile:e(ue)}),localStorage.setItem("profiles",JSON.stringify(t)),t):void 0)),{subscribe:r,removeKeyfile:t=>{""!==t&&a((e=>{const r=e.filter((e=>e.address!==t));return localStorage.setItem("profiles",JSON.stringify(r)),r}))},addKeyfile(t,e){""!==t&&""!==e&&a((r=>(void 0===r&&(r=[]),r.filter((e=>e.address===t)).length>0||(r.push({address:t,keyfile:e}),localStorage.setItem("profiles",JSON.stringify(r))),r)))},removeAll(){n([]),localStorage.removeItem("profiles")}}}();function fe(e){const{subscribe:r,set:n}=t("");return null!==localStorage.getItem(e)&&""!==localStorage.getItem(e)&&"null"!==localStorage.getItem(e)&&void 0!==localStorage.getItem(e)&&n(localStorage.getItem(e)),{subscribe:r,reset:()=>{n(""),localStorage.removeItem(e)},set:t=>{n(t),localStorage.setItem(e,t)}}}const le=n(null,(t=>{const r=new oe({host:"arweave.net",port:443,protocol:"https",timeout:2e4}),n=()=>r.wallets.getBalance(e(se)).then((e=>t(r.ar.winstonToAr(e))));n();const a=se.subscribe(n),i=setInterval(n,6e4);return function(){clearInterval(i),a()}})),he=r(ue,(t=>""!==t&&"null"!==t&&null!=t));function de(){ue.reset(),se.reset(),ce.removeAll()}function pe(t,e){return null===ye(e)[t]&&ge(t,null,e),ye(e)[t]}function ge(t,e,r){let n=ye(r);n[t]=e;const a=JSON.parse(localStorage.getItem("settings")||"{}");a[r]=n,localStorage.setItem("settings",JSON.stringify(a))}function ye(t){let e=JSON.parse(localStorage.getItem("settings")||"{}");return e[t]||(e[t]={}),e[t]}export{oe as A,se as a,de as b,o as c,a as d,s as e,c as f,pe as g,u as h,V as i,i as j,ue as k,he as l,le as m,ce as p,ge as s};
